---
tags:
  - test-config
  - cli-commands
  - compiled-code
citations:
- cleaned_docs/snapshots/rank_1.md
guid: a13f790f1f
source: llm
uuid: b95e96c4-f94d-5fe6-a593-753e0ccb432f
---

<front>

A snapshot run completes successfully, but upon inspection, you see multiple open records (where `dbt_valid_to` is null) for the same ID. What is the likely configuration error?

</front>

---

<back>

The **`unique_key`** configuration is likely incorrect or not truly unique in the source data.

dbt relies on the `unique_key` to match incoming rows with existing history. If the key duplicates, dbt cannot correctly identify which record to update, leading to Type 2 logic failures.

</back>
