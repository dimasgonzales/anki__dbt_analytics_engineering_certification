---
tags:
- card_type/scenario
- development/materializations
- development/modularity
- development/seeds
citations:
- cleaned_docs/python-models/rank_1.md
guid: dbe63310d2
source: llm
uuid: 25e828f2-7855-5726-93f9-c28439ebd070
---

<front>

You are converting a SQL model that references an ephemeral model into a Python model. How should you handle the `dbt.ref()` to the ephemeral model?

</front>

---

<back>

You must materialize the upstream ephemeral model as a table or view first. Python models cannot currently reference ephemeral models directly because the Python code runs remotely and cannot inject the ephemeral CTE logic.

</back>
