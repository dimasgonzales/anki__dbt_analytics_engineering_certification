---
tags:
- compiled-code
- deployment-jobs
- test-config
citations:
- cleaned_docs/sql-performance/rank_4.md
guid: 339fe65380
source: llm
uuid: 5c058085-917e-5495-b823-d413af983fad
---

<front>

Your local development runs are slow because they query the full history of the `events` table. How can you limit the data to the last 3 days only when working in your 'dev' environment?

</front>

---

<back>

Add a conditional `WHERE` clause using Jinja to check the target name.
```sql
select * from {{ source('app', 'events') }}
{% if target.name == 'dev' %}
  where created_at > dateadd('day', -3, current_date)
{% endif %}
```
This compiles the limit into the SQL only when the target is 'dev', while production runs process the full dataset.

</back>
