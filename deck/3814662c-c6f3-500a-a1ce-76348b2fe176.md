---
tags:
  - snapshots
  - sources
  - python-models
citations:
- cleaned_docs/sources/rank_7.md
guid: ffc419352c
source: llm
uuid: 3814662c-c6f3-500a-a1ce-76348b2fe176
---

<front>

How does dbt calculate the `max_loaded_at_time_ago_in_s` metric during a source freshness check?

</front>

---

<back>

dbt calculates the difference between the `snapshotted_at` timestamp (current execution time) and the `max_loaded_at` timestamp (retrieved from the database).

This calculation is performed in Python to handle timezone logic.

</back>
