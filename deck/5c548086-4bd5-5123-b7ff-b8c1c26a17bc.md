---
tags:
- card_type/scenario
- development/materializations
- development/project-config
- development/sql-performance
citations:
- cleaned_docs/sql-performance/rank_8.md
guid: d3f7dfc3ce
source: llm
uuid: 5c548086-4bd5-5123-b7ff-b8c1c26a17bc
---

<front>

You have a large `events` table and need to optimize queries filtering by `session_id` while strictly enforcing uniqueness on `event_id` at the database level. How would you configure this in your dbt model?

</front>

---

<back>

Use the `indexes` config to create a standard index on `session_id` and a unique index on `event_id`.

```sql
{{ config(
    materialized='table',
    indexes=[
      {'columns': ['session_id']},
      {'columns': ['event_id'], 'unique': True}
    ]
) }}
```

</back>
