---
tags:
- contracts
- modularity
- seeds
citations:
- cleaned_docs/modularity/rank_5.md
guid: 525a342cba
source: llm
uuid: e5c90ef4-fa93-5d7f-90a6-2b3f0ca10140
---

<front>

You have migrated a legacy table named `old_finance` to a new dbt model `finance_model`. How would you use `audit_helper` to verify the data is identical?

</front>

---

<back>

You would use the `compare_relations` macro in an analysis file to compare the legacy table against the new model ref.

Example:
```sql
{{ audit_helper.compare_relations(
    a_relation=adapter.get_relation(schema='legacy', identifier='old_finance'),
    b_relation=ref('finance_model')
) }}
```

</back>
