---
tags:
- card_type/factual
- debugging/yaml-compilation
- development/project-config
- development/snapshots
citations:
- cleaned_docs/snapshots/index.md
guid: 0585fa01de
source: llm
uuid: 7c74446a-0027-57c7-bfb9-cc441e46cb17
---

<front>

What configuration must be added to a snapshot to ensure that rows physically deleted from the source are marked as invalid in the snapshot?

</front>

---

<back>

You must add `hard_deletes: 'new_record'` to the snapshot configuration. Without this, dbt defaults to ignoring source deletions, leaving the record active in the snapshot forever.

</back>
