---
tags:
  - jinja-macros
  - error-logs
  - snapshots
citations:
- cleaned_docs/jinja-macros/rank_5.md
guid: d28074e479
source: llm
uuid: 3526c58f-8e91-5d2f-89db-fb967415c44f
---

<front>

A macro is failing with a compilation error. The code attempts to use `{% if item in my_list %}` but fails when `my_list` is a dbt `relation` object. What is the likely cause?

</front>

---

<back>

The cause is a confusion between **Jinja logic** and **dbt objects**. The `in` operator is native Jinja syntax expecting a list, tuple, or string. A dbt `relation` object is complex context; you cannot simply check existence with standard Jinja syntax without first converting the relation or using dbt-specific introspection methods.

</back>
