---
tags:
  - jinja-macros
  - yaml-compilation
  - contracts
citations:
- cleaned_docs/docs-generation/rank_8.md
guid: d501cac2f9
source: llm
uuid: d05773fa-3175-5aa0-9546-5a25759cfa0f
---

<front>

Why can't you use the results of a `run_query()` macro inside `generate_schema_name`?

</front>

---

<back>

The `generate_schema_name` macro runs during the **parsing/compilation** phase to determine the project structure.

Database connections and query execution happen in the **run** phase, so query results are not yet available in the Jinja context.

</back>
