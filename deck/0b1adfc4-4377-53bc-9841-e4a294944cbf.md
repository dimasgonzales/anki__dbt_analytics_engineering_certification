---
tags:
- card_type/scenario
- materializations
- snapshots
- test-config
citations:
- cleaned_docs/jinja-macros/rank_4.md
guid: be8917ee70
source: llm
uuid: 0b1adfc4-4377-53bc-9841-e4a294944cbf
---

<front>

You are configuring an incremental model strategy and need to filter for rows updated in the last 3 days. How do you write this filter so it compiles correctly on any warehouse?

</front>

---

<back>

Use `dbt.dateadd` to calculate the cutoff date dynamically. This avoids hardcoding dialect-specific date math in your incremental logic.

```sql
{% if is_incremental() %}
  where updated_at >= {{ dbt.dateadd(datepart='day', interval=-3, from_date_or_timestamp='current_timestamp') }}
{% endif %}
```

</back>
