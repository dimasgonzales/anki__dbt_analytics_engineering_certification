---
tags:
- card_type/scenario
- jinja-macros
- model-access
- project-config
citations:
- cleaned_docs/project-config/rank_5.md
guid: bbeb950dad
source: llm
uuid: 0bbc07ac-4722-5042-b699-7654c89fb7a5
---

<front>

You have a custom macro `{{ grant_permissions() }}` that works in your model files. You try to add it to a `+post-hook` in `dbt_project.yml` and receive a compilation error. What is the cause?

</front>

---

<back>

The `dbt_project.yml` file has a **restricted Jinja context**. It cannot access custom macros defined in your project or packages. To fix this, you must define the hook within the specific model's `{{ config() }}` block or use raw SQL.

</back>
