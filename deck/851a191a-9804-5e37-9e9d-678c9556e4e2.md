---
tags:
- card_type/factual
- debugging/compiled-code
- development/cli-commands
- development/python-models
citations:
- cleaned_docs/materializations/rank_4.md
guid: 46d429d89f
source: llm
uuid: 851a191a-9804-5e37-9e9d-678c9556e4e2
---

<front>

When writing a custom materialization, what three steps are critical for managing the model execution lifecycle correctly?

</front>

---

<back>

1. **Run Pre-hooks**: Execute `{{ run_hooks(pre_hooks) }}` before the main SQL.
2. **Run Post-hooks**: Execute `{{ run_hooks(post_hooks) }}` after the main SQL.
3. **Commit Transaction**: Explicitly call `{{ adapter.commit() }}` at the end to finalize the database changes.

</back>
