---
tags:
- card_type/scenario
- compiled-code
- error-logs
- test-config
citations:
- cleaned_docs/jinja-macros/rank_4.md
guid: 1c1b70e1fa
source: llm
uuid: ef572fe3-7555-53f0-bea9-4b0d38ae07be
---

<front>

You need to cast a `user_input` column to an integer, but the column contains non-numeric dirty data that causes runtime errors. How do you handle this safely in dbt?

</front>

---

<back>

Use the `{{ dbt.safe_cast() }}` macro. It attempts to cast the field to the specified type and returns `null` (rather than failing the query) if the cast is impossible, abstracting syntax like `TRY_CAST` or `SAFE_CAST`.

```sql
{{ dbt.safe_cast('user_input', api.Column.translate_type('integer')) }}
```

</back>
