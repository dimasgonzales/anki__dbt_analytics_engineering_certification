---
tags:
  - materializations
  - sources
  - test-types
citations:
- cleaned_docs/snapshots/rank_7.md
guid: 6b4a0c24fa
source: llm
uuid: f716b0d2-1cb2-51ab-a8bf-f7557be78822
---

<front>

You need to create a snapshot for a source table that tracks daily user stats. The table has no single primary key, but the combination of `user_id` and `date` is unique. How should you configure the snapshot?

</front>

---

<back>

You should verify if `user_id` alone is sufficient for the entity you are tracking (the user). If you are tracking the *stats per day*, you must use a composite key or create a surrogate key to ensure uniqueness.

However, usually snapshots track entities (Users), so `unique_key` should likely be just `user_id`. Using `date` as part of the key might create a new snapshot row every day rather than tracking changes to the user entity.

</back>
