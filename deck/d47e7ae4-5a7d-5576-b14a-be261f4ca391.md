---
tags:
- cli-commands
- sql-performance
- test-config
citations:
- cleaned_docs/test-config/rank_10.md
guid: 869204c165
source: llm
uuid: d47e7ae4-5a7d-5576-b14a-be261f4ca391
---

<front>

You have a `unique` test on a very large transaction table (1 billion+ rows) that is partitioned by date. The test is running too slowly and driving up compute costs. How would you optimize this in the YAML?

</front>

---

<back>

Use the `where` configuration to limit the test to only recent data.

```yaml
tests:
  - unique:
      column_name: tx_id
      config:
        where: "tx_date >= current_date - 1"
```

This filters the test query so it only scans the relevant partition of data.

</back>
