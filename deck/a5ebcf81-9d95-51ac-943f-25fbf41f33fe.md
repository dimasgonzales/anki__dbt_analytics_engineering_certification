---
tags:
- card_type/scenario
- debugging/compiled-code
- development/snapshots
- testing/test-config
citations:
- cleaned_docs/sql-performance/rank_7.md
guid: bb4f3180b8
source: llm
uuid: a5ebcf81-9d95-51ac-943f-25fbf41f33fe
---

<front>

You want to speed up development cycles by processing only the last 3 days of data in the 'dev' environment, while keeping full history in 'prod'. How would you implement this in your model?

</front>

---

<back>

Use a Jinja `{% if %}` block checking `target.name` to inject a WHERE clause that limits the date range only when the target is 'dev'.

```sql
where 1=1
{% if target.name == 'dev' %}
  and created_at >= dateadd('day', -3, current_date)
{% endif %}
```

</back>
