---
tags:
  - modularity
  - seeds
  - error-logs
citations:
- cleaned_docs/modularity/rank_1.md
guid: d7d5fadfd6
source: llm
uuid: b247f043-1111-5966-9bdc-15ed0f788887
---

<front>

A colleague's model is failing, and the SQL contains deep nested subqueries making it hard to debug. How should you advise them to refactor the code?

</front>

---

<back>

Refactor the nested subqueries into **linear CTEs** following the 4-part structure. Move all table references to the top (Import CTEs) and perform transformations in subsequent steps (Logical CTEs) so the logic flows top-to-bottom without nesting.

</back>
