---
tags:
  - jinja-macros
  - compiled-code
  - test-config
citations:
- cleaned_docs/jinja-macros/rank_5.md
guid: 96b92c37ec
source: llm
uuid: 6b854d53-e92c-52ec-aa60-c4c45aaf5271
---

<front>

You receive an error stating `'NoneType' object is not iterable` while trying to loop through `results.rows` in a macro. Which library's documentation should you consult to understand the structure of the `results` object?

</front>

---

<back>

You should consult the **Agate** documentation. Since `results` is an Agate table returned by `run_query`, understanding why the table might be empty (None) or how to verify the table structure (`.print_table()`) is handled by the Agate library, not native Jinja or dbt core.

</back>
