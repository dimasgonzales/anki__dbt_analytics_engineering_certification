---
tags:
- card_type/scenario
- cli-commands
- compiled-code
- materializations
citations:
- cleaned_docs/sql-performance/index.md
guid: aeedce6271
source: llm
uuid: 06bf93d3-054c-5665-bf20-4275c98aec2e
---

<front>

Queries against a newly materialized large table are performing poorly because the query optimizer has stale statistics. How should you automate the fix in dbt?

</front>

---

<back>

Add a `post-hook` to the model configuration to run the compute statistics command immediately after the model builds.
```yaml
models:
  name: my_large_model
  post-hook: "ANALYZE TABLE {{ this }} COMPUTE STATISTICS"
```

</back>
