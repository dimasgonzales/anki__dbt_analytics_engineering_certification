---
tags:
  - test-config
  - selectors
  - jinja-macros
citations:
- cleaned_docs/test-config/rank_6.md
guid: 72296134fe
source: llm
uuid: 86e0e449-c474-5fc6-bc1d-e3c6cc68e2df
---

<front>

When `warn_if` and `error_if` configurations are insufficient because you need to validate data based on a failure *percentage* rather than a row count, what is the recommended solution?

</front>

---

<back>

You should create a **custom generic test**. Standard configurations (`warn_if`/`error_if`) only assess the absolute number of rows returned. Complex logic, such as ratios, percentages, or dynamic calculations, must be defined within the SQL of a custom test macro.

</back>
