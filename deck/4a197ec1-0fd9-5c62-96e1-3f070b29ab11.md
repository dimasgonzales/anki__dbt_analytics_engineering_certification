---
tags:
- card_type/factual
- development/snapshots
- development/sources
- documentation/descriptions
citations:
- cleaned_docs/packages/rank_9.md
guid: 47529b9e3c
source: llm
uuid: 4a197ec1-0fd9-5c62-96e1-3f070b29ab11
claim_meta:
  verdict: SUPPORTED
  explanation: "The reference text explicitly describes that dbt decides based on the presence of 'loaded_at_field': using a SQL query when provided and warehouse metadata when omitted, which perfectly matches the answer."
  citation:
    quote: "* If a `loaded_at_field` is provided, dbt will calculate freshness via a select query (previous behavior). * If a `loaded_at_field` is *not* provided, dbt will calculate freshness via warehouse metadata tables when possible (new behavior)."
    is_quote_valid: true
---

<front>

How does dbt decide whether to use a SQL query or warehouse metadata to calculate source freshness?

</front>

---

<back>

It depends on the `loaded_at_field` configuration. If `loaded_at_field` is provided, dbt runs a SQL query to check the max timestamp. If it is **omitted**, dbt attempts to calculate freshness using warehouse metadata tables instead.

</back>
