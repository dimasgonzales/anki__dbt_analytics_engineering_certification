---
tags:
- compiled-code
- materializations
- snapshots
citations:
- cleaned_docs/sql-performance/rank_1.md
guid: e9dc30a7c7
source: llm
uuid: f0585554-ed11-5c79-ad69-f1af161d1de1
---

<front>

You have a large incremental model using the `merge` strategy. The run time is increasing linearly as the history grows because dbt scans the full target table to check for updates. How do you fix this?

</front>

---

<back>

Add `incremental_predicates` to the model configuration to limit the scan to a specific time range or partition.

```yaml
{{ config(
  materialized='incremental',
  incremental_strategy='merge',
  unique_key='id',
  incremental_predicates=["dbt_internal_target.created_at >= dateadd(day, -7, current_date())"]
) }}
```

</back>
