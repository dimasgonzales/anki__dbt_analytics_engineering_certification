---
tags:
- card_type/scenario
- debugging/compiled-code
- development/materializations
- development/snapshots
citations:
- cleaned_docs/snapshots/rank_9.md
guid: 8ee654292d
source: llm
uuid: 382e2348-c490-5bf7-871c-3211a8026de0
---

<front>

You are writing an incremental model and need to ensure you only process rows that are newer than the most recent record in the destination table. How do you write the SQL `WHERE` clause inside the incremental block?

</front>

---

<back>

Use the `{{ this }}` variable to query the current target table for the maximum timestamp.

Code Example:
```sql
{% if is_incremental() %}
  where event_time > (select max(event_time) from {{ this }})
{% endif %}
```

</back>
