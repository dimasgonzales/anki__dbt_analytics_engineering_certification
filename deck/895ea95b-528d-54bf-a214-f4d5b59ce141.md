---
citations:
- cleaned_docs/snapshots/rank_10.md
tags:
- card_type/scenario
- development/jinja-macros
- development/packages
- state/selectors
uuid: 895ea95b-528d-54bf-a214-f4d5b59ce141
claim_meta:
  verdict: SUPPORTED
  explanation: "The answer claims that `dbt_utils.generate_surrogate_key` automatically handles null values to ensure consistency. The reference text explicitly supports this by stating that the macro works regardless of nulls, meaning it safely handles null values in composite key generation."
  citation:
    evidence_source: "https://docs.getdbt.com/blog/sql-surrogate-keys"
    quote: "Well, you simply donâ€™t have to think about your surrogate keys all that much. On any data warehouse, nulls or no nulls, it just works. Because honestly, who wants to spend more time than they need to thinking about surrogate keys?"
    is_quote_valid: true
---


<front>

You need to create a composite primary key for a model based on `customer_id` and `order_date`, ensuring nulls are handled safely. How do you write this in your model SQL?

</front>

---

<back>

Use the `dbt_utils.generate_surrogate_key` macro with the column names provided in a list. This macro automatically handles null values to ensure consistency.

```sql
select
  {{ dbt_utils.generate_surrogate_key(['customer_id', 'order_date']) }} as id,
  ...
from ...
```

</back>