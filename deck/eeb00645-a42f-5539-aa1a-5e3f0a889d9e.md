---
tags:
- jinja-macros
- test-config
- yaml-compilation
citations:
- cleaned_docs/model-access/rank_4.md
guid: 0b823519c6
source: llm
uuid: eeb00645-a42f-5539-aa1a-5e3f0a889d9e
---

<front>

Your model code includes `{{ model.batch.id }}`, but `dbt compile` fails with an error saying 'NoneType object has no attribute id'. What is the likely cause and fix?

</front>

---

<back>

The cause is that `model.batch` is null during the compilation/parsing phase. The fix is to wrap the code in a Jinja `if` block.

Example:
```jinja
{% if model.batch %}
  -- logic using model.batch.id
{% endif %}
```

</back>
