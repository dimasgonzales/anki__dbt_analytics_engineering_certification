---
tags:
- card_type/factual
- debugging/compiled-code
- development/materializations
- state/state-concepts
citations:
- cleaned_docs/state-concepts/rank_4.md
guid: cd4eb6efcb
source: llm
uuid: bd64378e-4e01-5481-8f8c-8cf6cd05582f
claim_meta:
  verdict: SUPPORTED
  explanation: "The reference text confirms that dbt uses a merge strategy for incremental models with a unique_key, which involves matching records and updating them, aligning with the answer's description of using a MERGE statement for atomic updates and inserts."
  citation:
    quote: "If you use the `merge` strategy and specify a `unique_key`, by default, dbt will entirely overwrite matched rows with new values."
    is_quote_valid: true
---

<front>

When a `unique_key` is provided in an incremental model config, how does dbt handle updates on warehouses that support atomic merge (like Snowflake)?

</front>

---

<back>

dbt utilizes a `MERGE` statement.

It matches records between the source and target based on the `unique_key`. It updates existing rows in the target table and inserts new rows atomically in a single transaction.

</back>
