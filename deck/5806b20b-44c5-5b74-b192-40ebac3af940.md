---
tags:
- card_type/factual
- debugging/compiled-code
- development/jinja-macros
- governance/model-access
citations:
- cleaned_docs/jinja-macros/rank_5.md
guid: '1294231827'
source: llm
uuid: 5806b20b-44c5-5b74-b192-40ebac3af940
---

<front>

In a dbt macro, what object type does the `run_query` function return, and what attribute must be accessed to iterate through the results?

</front>

---

<back>

`run_query` returns an **Agate table** object. To iterate through the results using a for loop, you must access the `.rows` attribute.

Example:
```jinja
{% set table = run_query(my_query) %}
{% for row in table.rows %}
  ...
{% endfor %}
```

</back>
