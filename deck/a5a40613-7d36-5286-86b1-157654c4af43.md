---
tags:
- card_type/scenario
- cli-commands
- error-logs
- project-config
citations:
- cleaned_docs/selectors/rank_9.md
guid: 3d0cba5465
source: llm
uuid: a5a40613-7d36-5286-86b1-157654c4af43
---

<front>

You have a macro `audit_selected_models` that relies on `selected_resources`. It works perfectly in your `dbt_project.yml` under `on-run-end`, but returns an empty list when you try to debug it using `dbt run-operation audit_selected_models`. Why?

</front>

---

<back>

The `dbt run-operation` command context does not populate the `selected_resources` variable. This variable is scoped to run-oriented commands (like `dbt run`, `dbt build`, `dbt test`) where graph selection occurs.

</back>
