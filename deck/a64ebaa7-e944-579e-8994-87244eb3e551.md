---
tags:
- modularity
- seeds
- test-config
citations:
- cleaned_docs/modularity/rank_1.md
guid: 8a8069ab65
source: llm
uuid: a64ebaa7-e944-579e-8994-87244eb3e551
---

<front>

You have refactored a legacy query into a dbt model and the row counts match, but you suspect column-level logic errors. How can you validate this efficiently?

</front>

---

<back>

Use the `audit_helper` package's `compare_relations` macro. 

```sql
{{ audit_helper.compare_relations(
    a_relation=old_relation,
    b_relation=dbt_model
) }}
```
This will generate a summary of matching and mismatching rows across all columns.

</back>
